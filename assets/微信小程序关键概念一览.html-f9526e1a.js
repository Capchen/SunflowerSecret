import{_ as l}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as s,c as d,a as r,b as i,d as n,e as t}from"./app-449bb4de.js";const p="/SunflowerSecret/assets/image-2-3f9acb07.png",c="/SunflowerSecret/assets/image-c482dd33.png",h={},f={href:"https://juejin.cn/post/7140509513852911647",target:"_blank",rel:"noopener noreferrer"},u={href:"https://www.zhihu.com/question/546709238",target:"_blank",rel:"noopener noreferrer"};function g(_,e){const a=o("ExternalLinkIcon");return s(),d("div",null,[e[2]||(e[2]=r('<h2 id="历史使命" tabindex="-1"><a class="header-anchor" href="#历史使命" aria-hidden="true">#</a> 历史使命</h2><p>微信中的webview逐渐成为移动web的入口。</p><p>基于微信JS API（​微信官方是没有对外暴露过如此调用的，此类 API 最初是提供给腾讯内部一些业务使用，很多外部开发者发现了之后，依葫芦画瓢地使用了，逐渐成为微信中网页的事实标准。）的能力，2015年初，微信发布了一整套网页开发工具包，称之为 JS-SDK，让所有开发者都可以使用到微信的原生能力，去完成一些之前做不到或者难以做到的事情。</p><p>JS-SDK逐渐暴露出一些问题，需要一个全新的系统来完成</p><ul><li><p>快速的加载</p></li><li><p>更强大的能力</p></li><li><p>原生的体验</p></li><li><p>易用且安全的微信数据开放</p></li><li><p>高效和简单的开发</p></li></ul><p>小程序呼之欲出</p><h2 id="主题架构" tabindex="-1"><a class="header-anchor" href="#主题架构" aria-hidden="true">#</a> 主题架构</h2>',7)),i("ul",null,[i("li",null,[i("a",f,[e[0]||(e[0]=n("参考链接")),t(a)])])]),e[3]||(e[3]=r('<figure><img src="'+p+'" alt="主题" tabindex="0" loading="lazy"><figcaption>主题</figcaption></figure><p>和我们熟知的浏览器的JS线程和GUI线程互斥不同，小程序的渲染层和逻辑层是分开，两者互不影响。<br> 它们通过native系统层进行通行。</p><h2 id="运行环境" tabindex="-1"><a class="header-anchor" href="#运行环境" aria-hidden="true">#</a> 运行环境</h2><p>宿主环境不同，小程序的运行环境也不同，我们所说的宿主，其实就是微信APP。<br><img src="'+c+'" alt="宿主" loading="lazy"></p><h2 id="页面生命周期" tabindex="-1"><a class="header-anchor" href="#页面生命周期" aria-hidden="true">#</a> 页面生命周期</h2><figure><img src="https://res.wx.qq.com/wxdoc/dist/assets/img/page-lifecycle.2e646c86.png" alt="页面生命周期" tabindex="0" loading="lazy"><figcaption>页面生命周期</figcaption></figure><h2 id="小程序的生命周期" tabindex="-1"><a class="header-anchor" href="#小程序的生命周期" aria-hidden="true">#</a> 小程序的生命周期</h2><figure><img src="https://res.wx.qq.com/wxdoc/dist/assets/img/life-cycle.5558d9eb.svg" alt="小程序生命周期" tabindex="0" loading="lazy"><figcaption>小程序生命周期</figcaption></figure><p>需要知道小程序什么时候会被销毁</p><ul><li>当小程序进入后台并被「挂起」后，如果很长时间（目前是 30 分钟）都未再次进入前台，小程序会被销毁。</li><li>当小程序占用系统资源过高，可能会被系统销毁或被微信客户端主动回收。</li></ul><h2 id="关于小程序更新的注意点" tabindex="-1"><a class="header-anchor" href="#关于小程序更新的注意点" aria-hidden="true">#</a> 关于小程序更新的注意点</h2><ol><li>开发者在后台发布新版本之后，无法立刻影响到所有现网用户，正常情况下，在全量发布 24 小时之后，新版本可以覆盖 99% 以上的用户。</li><li>小程序管理后台的「优先使用本地版本设置」和「小程序最低可用版本设置」不会影响同步更新与异步更新的选择。</li></ol><h2 id="skyline渲染引擎" tabindex="-1"><a class="header-anchor" href="#skyline渲染引擎" aria-hidden="true">#</a> Skyline渲染引擎</h2>',13)),i("ul",null,[i("li",null,[i("a",u,[e[1]||(e[1]=n("拓展阅读")),t(a)])])]),e[4]||(e[4]=i("p",null,"相比于「双线程模型」的架构，Skyline 创建了一条渲染线程来负责 Layout, Composite 和 Paint 等渲染任务（从原来的1:1改成1:N，复用一个渲染器）,并在AppService中新增渲染上下文来运行之前 WebView 承担的 JS 逻辑、DOM 树创建等逻辑。",-1))])}const x=l(h,[["render",g],["__file","微信小程序关键概念一览.html.vue"]]);export{x as default};
