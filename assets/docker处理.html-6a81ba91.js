import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as i,c as n,a as r}from"./app-bdbabe69.js";const p={};function d(t,a){return i(),n("div",null,a[0]||(a[0]=[r('<h3 id="前端docker容器" tabindex="-1"><a class="header-anchor" href="#前端docker容器" aria-hidden="true">#</a> 前端docker容器</h3><p>前端的镜像里面包含nginx服务，外部请求过来后，会先经过load-balance（以下简称LB）来进行一个转发，比如技能开发的URL为/skill/，LB会将此路径的请求转发到skill-ui容器，skill-ui容器里面nginx会依据配置，将/skillAPI/路径下的请求转发到配置好的skill_backend_url容器。<br> 下图是网页的一个请求：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/297368/1590117726141-0eb1c90c-c1c7-4b5f-8c8e-0e8923653de6.png#align=left&amp;display=inline&amp;height=144&amp;name=image.png&amp;originHeight=144&amp;originWidth=635&amp;size=17876&amp;status=done&amp;style=none&amp;width=635" alt="image.png" loading="lazy"><br> 下图是skill-ui中nginx的配置：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/297368/1590117547511-c3979fc2-2ad1-4ff6-9fca-a6acecfa45a0.png#align=left&amp;display=inline&amp;height=674&amp;name=image.png&amp;originHeight=674&amp;originWidth=1446&amp;size=90942&amp;status=done&amp;style=none&amp;width=1446" alt="image.png" loading="lazy"></p><p>所以可以大概得出：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/297368/1590119860165-04b287ed-c585-44a7-a416-32a3f59940c5.png#align=left&amp;display=inline&amp;height=317&amp;name=image.png&amp;originHeight=462&amp;originWidth=811&amp;size=25120&amp;status=done&amp;style=none&amp;width=556" alt="image.png" loading="lazy"></p><h3 id="docker-容器集群" tabindex="-1"><a class="header-anchor" href="#docker-容器集群" aria-hidden="true">#</a> docker 容器集群</h3><p>每个容器都有自己的虚拟ip，docker会有类似网关的管理者，比如skill-backend容器重启之后，它的虚拟ip会变化，这时路由管理者就会重新去注册新的ip路由表，保证与其他容器的正常连通。<br> 通过设置netword来将多个容器组成一个局域网</p><h4 id="健康检查" tabindex="-1"><a class="header-anchor" href="#健康检查" aria-hidden="true">#</a> 健康检查</h4><p>每个容器都可以设置一个健康检查，每隔一段时间去curl当前容器内的nginx端口服务。</p><h4 id="swarm" tabindex="-1"><a class="header-anchor" href="#swarm" aria-hidden="true">#</a> swarm</h4><p>比如现在有1，2，3个服务器。a服务是部署在1上的。如果a挂了，那么就会在2上重新部署a</p>',9)]))}const m=e(p,[["render",d],["__file","docker处理.html.vue"]]);export{m as default};
