import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as p,o as i,c as o,a,b as n,e,d as c}from"./app-d325cb96.js";const r={},l={id:"原文链接https-zhuanlan-zhihu-com-p-40733281",tabindex:"-1"},d=a("a",{class:"header-anchor",href:"#原文链接https-zhuanlan-zhihu-com-p-40733281","aria-hidden":"true"},"#",-1),u={href:"https://zhuanlan.zhihu.com/p/40733281",target:"_blank",rel:"noopener noreferrer"},h=c(`<h2 id="先说结论一" tabindex="-1"><a class="header-anchor" href="#先说结论一" aria-hidden="true">#</a> 先说结论一：</h2><figure><img src="https://cdn.nlark.com/yuque/0/2020/png/297368/1599660141441-fc985d64-f14d-43ec-be78-211492428e1b.png#align=left&amp;display=inline&amp;height=231&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=462&amp;originWidth=1426&amp;size=79607&amp;status=done&amp;style=none&amp;width=713" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="错误的写法" tabindex="-1"><a class="header-anchor" href="#错误的写法" aria-hidden="true">#</a> 错误的写法</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// lib.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span> 
 <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
 <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span>b <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./lib&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;a:&#39;</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;b:&#39;</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>-Q：为什么禁止对复合对象字面量的导出操作？(如上)<br> -A：babel5会将错误的写法输出成正确的值（babel5的bug），其实按照正确的esm语法，使输出为undefined的。<br> -A：在esm和cjs互相转换的时候加大复杂性。如下图：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/297368/1599660867222-47c57e86-4a29-45e5-8f12-5f1f7dc0486c.png#align=left&amp;display=inline&amp;height=314&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=628&amp;originWidth=1420&amp;size=114520&amp;status=done&amp;style=none&amp;width=710" alt="image.png" loading="lazy"></p><h2 id="正确使用esm" tabindex="-1"><a class="header-anchor" href="#正确使用esm" aria-hidden="true">#</a> 正确使用ESM</h2><h3 id="导出" tabindex="-1"><a class="header-anchor" href="#导出" aria-hidden="true">#</a> 导出</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// lib.js</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">&#39;name&#39;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="导入" tabindex="-1"><a class="header-anchor" href="#导入" aria-hidden="true">#</a> 导入</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> all <span class="token keyword">from</span> <span class="token string">&#39;./lib.js&#39;</span>
<span class="token keyword">import</span> lib <span class="token keyword">from</span> <span class="token string">&#39;./lib.js&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>a<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./lib.js&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cjs的导入导出" tabindex="-1"><a class="header-anchor" href="#cjs的导入导出" aria-hidden="true">#</a> CJS的导入导出</h2><h3 id="导出-1" tabindex="-1"><a class="header-anchor" href="#导出-1" aria-hidden="true">#</a> 导出</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>export <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">export</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;chenjian&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="导入-1" tabindex="-1"><a class="header-anchor" href="#导入-1" aria-hidden="true">#</a> 导入</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./lib.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,15),m={id:"原文链接https-zhuanlan-zhihu-com-p-97335917",tabindex:"-1"},k=a("a",{class:"header-anchor",href:"#原文链接https-zhuanlan-zhihu-com-p-97335917","aria-hidden":"true"},"#",-1),b={href:"https://zhuanlan.zhihu.com/p/97335917",target:"_blank",rel:"noopener noreferrer"},v=a("h2",{id:"再说结论二",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#再说结论二","aria-hidden":"true"},"#"),n(" 再说结论二：")],-1),g=a("p",null,[n("彻底禁用"),a("strong",null,"export default")],-1),f=a("h2",{id:"我个人的观点",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#我个人的观点","aria-hidden":"true"},"#"),n(" 我个人的观点：")],-1),_=a("p",null,"esm一把梭，兼容问题是暂时的，就像微软不支持ie一样。该进步还是要进步。",-1);function x(y,j){const s=p("ExternalLinkIcon");return i(),o("div",null,[a("h2",l,[d,n(" 原文链接"),a("a",u,[n("https://zhuanlan.zhihu.com/p/40733281"),e(s)])]),h,a("h2",m,[k,n(" 原文链接"),a("a",b,[n("https://zhuanlan.zhihu.com/p/97335917"),e(s)])]),v,g,f,_])}const N=t(r,[["render",x],["__file","我们真的不需要export default.html.vue"]]);export{N as default};
