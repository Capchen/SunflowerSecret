import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{r,o,c as d,a,b as e,e as t,d as c}from"./app-9154a251.js";const h="/SunflowerSecret/assets/image-eb4bc9a7.png",l="/SunflowerSecret/assets/image1-193ffecc.png",p="/SunflowerSecret/assets/image2-27d71b37.png",s={},g=a("blockquote",null,[a("p",null,[e("希望能够使用 React 语法写小程序的同时，通过「"),a("strong",null,"Write once Run anywhere"),e("」来实现跨端的。")])],-1),m={href:"https://docs.taro.zone/blog/2020-01-02-gmtc/",target:"_blank",rel:"noopener noreferrer"},u=c('<h3 id="选型参考" tabindex="-1"><a class="header-anchor" href="#选型参考" aria-hidden="true">#</a> 选型参考</h3><h4 id="一" tabindex="-1"><a class="header-anchor" href="#一" aria-hidden="true">#</a> 一</h4><blockquote><figure><img src="'+h+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure></blockquote><h4 id="二" tabindex="-1"><a class="header-anchor" href="#二" aria-hidden="true">#</a> 二</h4><figure><img src="'+l+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="架构" tabindex="-1"><a class="header-anchor" href="#架构" aria-hidden="true">#</a> 架构</h3><h4 id="_3之前的" tabindex="-1"><a class="header-anchor" href="#_3之前的" aria-hidden="true">#</a> 3之前的</h4><figure><img src="https://cdn.nlark.com/yuque/0/2022/png/297368/1653530590832-13699126-4892-4797-abcb-d1739b0b407e.png#clientId=u69f0cedc-3d9c-4&amp;from=paste&amp;height=259&amp;id=u5da2f416&amp;name=image.png&amp;originHeight=448&amp;originWidth=796&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=95817&amp;status=done&amp;style=none&amp;taskId=u19591826-32d3-4f6c-bd0c-fc1eb0286e6&amp;title=&amp;width=461" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h4 id="_3之后的" tabindex="-1"><a class="header-anchor" href="#_3之后的" aria-hidden="true">#</a> 3之后的</h4><figure><img src="https://cdn.nlark.com/yuque/0/2022/png/297368/1658452800658-988fa750-2f13-4a19-855d-ce5c51b4cc75.png#clientId=u96ba7115-3cc6-4&amp;from=paste&amp;height=159&amp;id=udb40ae85&amp;name=image.png&amp;originHeight=422&amp;originWidth=1234&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=165055&amp;status=done&amp;style=none&amp;taskId=u9678a04f-a053-4463-97f4-581ad1a7e73&amp;title=&amp;width=465" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h5 id="区别" tabindex="-1"><a class="header-anchor" href="#区别" aria-hidden="true">#</a> 区别</h5><h3 id="重编译和重运行时-而重运行时带来的好处是-模拟dom-bom-api" tabindex="-1"><a class="header-anchor" href="#重编译和重运行时-而重运行时带来的好处是-模拟dom-bom-api" aria-hidden="true">#</a> 重编译和重运行时，而重运行时带来的好处是，模拟DOM/BOM API：</h3><figure><img src="https://cdn.nlark.com/yuque/0/2022/png/297368/1653536397477-589a3fed-bdab-47af-87ee-48d025fe255e.png#clientId=u69f0cedc-3d9c-4&amp;from=paste&amp;height=247&amp;id=u87ed2785&amp;name=image.png&amp;originHeight=494&amp;originWidth=1370&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=159837&amp;status=done&amp;style=none&amp;taskId=uc60dad64-64b8-42cc-b01b-3454106d5d0&amp;title=&amp;width=685" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="mpvue" tabindex="-1"><a class="header-anchor" href="#mpvue" aria-hidden="true">#</a> mpvue</h3><p>mpvue 本质上还是将 Vue 运行在了小程序，在platform目录下实现了小程序的转化。</p><h3 id="vue支持" tabindex="-1"><a class="header-anchor" href="#vue支持" aria-hidden="true">#</a> Vue支持</h3><ul><li>从<code>v3.0.0</code>版本（01 Jul 2020）支持的vue3开发</li></ul><h3 id="taro小程序" tabindex="-1"><a class="header-anchor" href="#taro小程序" aria-hidden="true">#</a> Taro小程序</h3><ol><li>先基于cli为react/vue代码用webpack打包</li><li>运行时使用适配器进行适配，调用Taro实现的DOM/BOM API，</li><li>渲染到小程序页面</li></ol><h3 id="taro-dom-tree-如何更新到页面" tabindex="-1"><a class="header-anchor" href="#taro-dom-tree-如何更新到页面" aria-hidden="true">#</a> Taro DOM Tree 如何更新到页面</h3><h4 id="react" tabindex="-1"><a class="header-anchor" href="#react" aria-hidden="true">#</a> React</h4><ol><li>先将小程序的组件模版化</li><li>将Taro Runtime 生成的Taro Dom Tree，去匹配模版</li><li>匹配遍历完Taro Tree之后，得到的就是小程序的组件Tree</li></ol><figure><img src="'+p+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h4 id="vue" tabindex="-1"><a class="header-anchor" href="#vue" aria-hidden="true">#</a> Vue</h4><p>Vue 和 React 最大的区别就在于运行时的 CreateVuePage 方法，这个方法里进行了一些运行时的处理，比如：生命周期的对齐。其他的部分，如通过 BOM/DOM 方法构建、修改 DOM Tree 及渲染原理，都是和 React 一致的。</p><h4 id="更新" tabindex="-1"><a class="header-anchor" href="#更新" aria-hidden="true">#</a> 更新</h4>',26),f=a("br",null,null,-1),b={href:"http://root.cn",target:"_blank",rel:"noopener noreferrer"},_=a("br",null,null,-1),x=a("img",{src:"https://cdn.nlark.com/yuque/0/2022/png/297368/1658458460741-8cb7c7e9-ab7d-4a35-910b-9a1700c76c5d.png#clientId=u96ba7115-3cc6-4&from=paste&height=265&id=uf0ed8f51&name=image.png&originHeight=364&originWidth=729&originalType=binary&ratio=1&rotation=0&showTitle=false&size=149898&status=done&style=none&taskId=u53490226-1b24-4e6e-81da-89f2b7f420d&title=&width=531.5",alt:"image.png",loading:"lazy"},null,-1),y=a("h3",{id:"taro-npm",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#taro-npm","aria-hidden":"true"},"#"),e(" Taro NPM")],-1),T=a("figure",null,[a("img",{src:"https://cdn.nlark.com/yuque/0/2022/png/297368/1658458624594-3d7e4506-ec75-42d5-ad13-790cceb6eeea.png#clientId=u96ba7115-3cc6-4&from=paste&height=929&id=uabf7fb73&name=image.png&originHeight=929&originWidth=637&originalType=binary&ratio=1&rotation=0&showTitle=false&size=165954&status=done&style=none&taskId=u2ede6cc5-e263-48ac-bb1d-620a507cee5&title=&width=637",alt:"image.png",tabindex:"0",loading:"lazy"}),a("figcaption",null,"image.png")],-1);function k(v,w){const i=r("ExternalLinkIcon");return o(),d("div",null,[g,a("p",null,[a("a",m,[e("《小程序跨框架开发的探索与实践》演讲全文"),t(i)])]),u,a("p",null,[e("无论是 React 还是 Vue ，最终都会调用 Taro DOM 方法，如：appendChild、insertChild 等。"),f,e(" 这些方法在修改 Taro DOM Tree 的同时，还会调用 enqueueUpdate 方法，这个方法能获取到每一个 DOM 方法最终修改的节点路径和值，如：{"),a("a",b,[e("root.cn"),t(i)]),e('.[0].cn.[4].value: "1"}，并通过 setData 方法更新到视图层。'),_,x]),y,T])}const M=n(s,[["render",k],["__file","Taro.html.vue"]]);export{M as default};
